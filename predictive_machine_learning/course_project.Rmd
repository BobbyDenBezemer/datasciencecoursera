---
title: "Final Project Machine Learning"
author: "Bobby den Bezemer"
date: "28 september 2015"
output: html_document
---

## Steps to take
1. Download the data using the following function:
library(downloader)
downloadData <- function(url, file){
  if (!file.exists(file)){
    download(url, destfile = file)
  }
  else {
    print ("File already exists")
  }
}
training <- read.csv(url(trainUrl), na.strings=c("NA","#DIV/0!",""))
2. Exclude garbage columns:
excludedLabels =  c("X", "user_name", "raw_timestamp_part_1", "raw_timestamp_part_2", "cvtd_timestamp", "new_window", "num_window")
2. Remove variables with more than 50% NAs
omitColumns = which(colSums(missingData) > 19000)
3. myDataNZV <- nearZeroVar(myTraining, saveMetrics=TRUE)

## Move to modeling
If random forrest, make following plot: varImpPlot(randForest)
Then remove variables with nearZeroVar

Also use k fold cross validation
controlRf <- trainControl(method="cv", 5)
modelRf <- train(classe ~ ., data=trainData, method="rf", trControl=controlRf, ntree=250)
modelRf